{"ast":null,"code":"var _jsxFileName = \"/Users/sagar/Documents/brainhub_react/my-app/src/App.js\";\nimport React from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport EventForm from './Form.js';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fields: {},\n      errors: {}\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleValidation() {\n    let fields = this.state.fields;\n    let errors = {};\n    let formIsValid = true; //Name\n\n    if (!fields[\"firstName\"]) {\n      formIsValid = false;\n      errors[\"name\"] = \"Cannot be empty\";\n    }\n\n    if (!fields[\"lasttName\"]) {\n      formIsValid = false;\n      errors[\"name\"] = \"Cannot be empty\";\n    } //Email\n\n\n    if (!fields[\"email\"]) {\n      formIsValid = false;\n      errors[\"email\"] = \"Cannot be empty\";\n    }\n\n    if (typeof fields[\"email\"] !== \"undefined\") {\n      let lastAtPos = fields[\"email\"].lastIndexOf('@');\n      let lastDotPos = fields[\"email\"].lastIndexOf('.');\n\n      if (!(lastAtPos < lastDotPos && lastAtPos > 0 && fields[\"email\"].indexOf('@@') == -1 && lastDotPos > 2 && fields[\"email\"].length - lastDotPos > 2)) {\n        formIsValid = false;\n        errors[\"email\"] = \"Email is not valid\";\n      }\n    }\n\n    this.setState({\n      errors: errors\n    });\n    return formIsValid;\n  }\n\n  handleChange(field, event) {\n    let fields = {};\n    fields[field] = event.target.value;\n    this.setState({\n      fields\n    });\n  }\n\n  handleSubmit(event) {\n    console.log(this.state);\n    fetch('http://localhost:9000/react', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(this.state)\n    }).then(function (response) {\n      console.log(response);\n      return response.json();\n    });\n    this.props.handleSubmit();\n    event.preventDefault();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(EventForm, {\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit,\n      state: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/sagar/Documents/brainhub_react/my-app/src/App.js"],"names":["React","EventForm","App","Component","constructor","props","state","fields","errors","handleChange","bind","handleSubmit","handleValidation","formIsValid","lastAtPos","lastIndexOf","lastDotPos","indexOf","length","setState","field","event","target","value","console","log","fetch","method","headers","body","JSON","stringify","then","response","json","preventDefault","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport EventForm from './Form.js'\n\nclass App extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      fields: {},\n      errors: {}\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleValidation(){\n    let fields = this.state.fields;\n    let errors = {};\n    let formIsValid = true;\n\n    //Name\n    if(!fields[\"firstName\"]){\n       formIsValid = false;\n       errors[\"name\"] = \"Cannot be empty\";\n    }\n    if(!fields[\"lasttName\"]){\n      formIsValid = false;\n      errors[\"name\"] = \"Cannot be empty\";\n   }\n\n    //Email\n    if(!fields[\"email\"]){\n       formIsValid = false;\n       errors[\"email\"] = \"Cannot be empty\";\n    }\n\n    if(typeof fields[\"email\"] !== \"undefined\"){\n       let lastAtPos = fields[\"email\"].lastIndexOf('@');\n       let lastDotPos = fields[\"email\"].lastIndexOf('.');\n\n       if (!(lastAtPos < lastDotPos && lastAtPos > 0 && fields[\"email\"].indexOf('@@') == -1 && lastDotPos > 2 && (fields[\"email\"].length - lastDotPos) > 2)) {\n          formIsValid = false;\n          errors[\"email\"] = \"Email is not valid\";\n        }\n   }  \n\n   this.setState({errors: errors});\n   return formIsValid;\n}\n\n  handleChange(field, event){\n    let fields = {};\n    fields[field] = event.target.value;        \n    this.setState({fields});\n}\n\nhandleSubmit(event) {\n    console.log(this.state)\n    fetch('http://localhost:9000/react', \n    {\n        method: 'POST',\n        headers:{\n            'Accept': 'application/json',\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(this.state)\n    }).then(function(response) {\n        console.log(response)\n        return response.json();\n    });\n    this.props.handleSubmit();\n    event.preventDefault();\n}\n\n  render(){\n    return (\n      <div className=\"App\">\n        <EventForm \n        handleChange={this.handleChange} \n        handleSubmit={this.handleSubmit} \n        state={this.state}\n        />\n      </div>\n    );\n  }\n  \n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}